- [ ] `.cursor/` 디렉토리
  - [ ] `rules/` 커서룰
  - [ ] `mcp.json` MCP 서버 설정
  - [ ] `dir.md` 프로젝트 디렉토리 구조
- [ ] `.github/` 디렉토리
- [ ] `.husky/` 디렉토리
- [ ] `app/` 디렉토리
  - [ ] `favicon.ico` 파일
  - [ ] `not-found.tsx` 파일
  - [ ] `robots.ts` 파일
  - [ ] `sitemap.ts` 파일
  - [ ] `manifest.ts` 파일
- [ ] `supabase/` 디렉토리
- [ ] `public/` 디렉토리
  - [ ] `icons/` 디렉토리
  - [ ] `logo.png` 파일
  - [ ] `og-image.png` 파일
- [ ] `tsconfig.json` 파일
- [ ] `.cursorignore` 파일
- [ ] `.gitignore` 파일
- [ ] `.prettierignore` 파일
- [ ] `.prettierrc` 파일
- [ ] `tsconfig.json` 파일
- [ ] `eslint.config.mjs` 파일
- [ ] `AGENTS.md` 파일



# My Trip - 개발 TODO 리스트

> PRD, Flowchart, Design 문서 기반 작업 항목 정리

## Phase 1: 기본 구조 & 공통 설정

- [x] 프로젝트 셋업
  - [x] 환경변수 설정 (`.env`)
    - [x] `NEXT_PUBLIC_TOUR_API_KEY` (한국관광공사 API)
    - [x] `TOUR_API_KEY` (서버 사이드용)
    - [x] `NEXT_PUBLIC_NAVER_MAP_CLIENT_ID` (네이버 지도)
    - [x] Clerk 인증 키 확인
    - [x] Supabase 키 확인
  - [x] `.env.example` 파일 생성
- [x] API 클라이언트 구현
  - [x] `lib/api/tour-api.ts` 생성
    - [x] `getAreaCode()` - 지역코드 조회 (`areaCode2`)
    - [x] `getAreaBasedList()` - 지역 기반 목록 (`areaBasedList2`)
    - [x] `searchKeyword()` - 키워드 검색 (`searchKeyword2`)
    - [x] `getDetailCommon()` - 공통 정보 (`detailCommon2`)
    - [x] `getDetailIntro()` - 소개 정보 (`detailIntro2`)
    - [x] `getDetailImage()` - 이미지 목록 (`detailImage2`)
    - [x] `getDetailPetTour()` - 반려동물 정보 (`detailPetTour2`)
    - [x] 공통 파라미터 처리 (serviceKey, MobileOS, MobileApp, _type)
    - [x] 에러 처리 및 재시도 로직
  - ---
  - [x] Plan 모드 개발 내용:
    - [x] `fetchWithRetry()` 함수 구현 - 최대 3회 재시도, 지수 백오프, 30초 타임아웃
    - [x] `parseApiResponse()` 함수 구현 - API 응답 파싱 및 에러 처리
    - [x] `buildQueryString()` 함수 구현 - URL 쿼리 파라미터 생성
    - [x] 환경변수 우선순위 처리 (TOUR_API_KEY > NEXT_PUBLIC_TOUR_API_KEY)
    - [x] 각 API 함수에 대한 상세 에러 메시지 처리
- [x] 타입 정의
  - [x] `lib/types/tour.ts` 생성
    - [x] `TourItem` 인터페이스 (목록)
    - [x] `TourDetail` 인터페이스 (상세)
    - [x] `TourIntro` 인터페이스 (운영정보)
    - [x] `TourImage` 인터페이스 (이미지)
    - [x] `PetTourInfo` 인터페이스 (반려동물)
  - [x] `lib/types/stats.ts` 생성
    - [x] `RegionStats` 인터페이스
    - [x] `TypeStats` 인터페이스
    - [x] `StatsSummary` 인터페이스
  - ---
  - [x] Plan 모드 개발 내용:
    - [x] `TourApiResponse<T>` 제네릭 타입 추가 - API 응답 래퍼
    - [x] `AreaCode` 인터페이스 추가 - 지역 코드 정보
    - [x] `TOUR_TYPE_MAP` 상수 추가 - 관광 타입 ID와 이름 매핑
    - [x] `REGION_MAP` 상수 추가 - 지역 코드와 이름 매핑
    - [x] `TourIntro` 인터페이스에 타입별 추가 필드 정의 (관광지, 문화시설, 축제 등)
- [x] 레이아웃 구조
  - [x] `app/layout.tsx` 업데이트
    - [x] 메타데이터 설정
    - [x] 헤더/푸터 구조 확인
  - [x] `components/Navbar.tsx` 업데이트
    - [x] 로고, 검색창, 로그인 버튼
    - [x] 네비게이션 링크 (홈, 통계, 북마크)
  - ---
  - [x] Plan 모드 개발 내용:
    - [x] Open Graph 메타태그 추가 (title, description, type, locale)
    - [x] Twitter Card 메타태그 추가
    - [x] Toaster 컴포넌트를 layout.tsx에 추가
    - [x] Navbar에 sticky 헤더 스타일 적용
    - [x] Navbar에 반응형 검색창 추가 (모바일에서 숨김)
    - [x] Navbar에 네비게이션 링크 스타일링 (hover 효과)
- [x] 공통 컴포넌트
  - [x] `components/ui/loading.tsx` - 로딩 스피너
  - [x] `components/ui/skeleton.tsx` - 스켈레톤 UI
  - [x] `components/ui/error.tsx` - 에러 메시지
  - [x] `components/ui/toast.tsx` - 토스트 알림 (shadcn/ui)
  - ---
  - [x] Plan 모드 개발 내용:
    - [x] `Loading` 컴포넌트 - lucide-react Loader2 아이콘 사용, size 옵션 (sm, md, lg)
    - [x] `Error` 컴포넌트 - AlertCircle 아이콘, 재시도 버튼 옵션
    - [x] `skeleton` 컴포넌트 - shadcn/ui 설치 완료
    - [x] `toast` 컴포넌트 - sonner 라이브러리 사용, Toaster 컴포넌트 구현
    - [x] sonner 패키지 설치 및 설정

## Phase 2: 홈페이지 (`/`) - 관광지 목록

- [x] 페이지 기본 구조
  - [x] `app/page.tsx` 생성
    - [x] 기본 레이아웃 (헤더, 메인, 푸터)
    - [x] 반응형 컨테이너 설정
  - ---
  - [x] Plan 모드 개발 내용:
    - [x] `components/Footer.tsx` 생성 - 프로젝트 정보, 링크 섹션, 저작권 정보 포함
    - [x] `app/page.tsx` 재구성 - 템플릿 코드를 My Trip 프로젝트에 맞게 변경
    - [x] 반응형 컨테이너 설정 - 모바일(`px-4 py-6`), 태블릿(`px-6 py-8`), 데스크톱(`px-8 py-10`) 패딩 적용
    - [x] 최대 너비 제한 - `max-w-7xl mx-auto` 중앙 정렬
    - [x] 섹션 구분 - 필터 영역 및 관광지 목록 영역 placeholder 추가
    - [x] `app/layout.tsx`에 Footer 통합 - flex 레이아웃으로 Navbar, children, Footer 순서 배치
    - [x] 접근성 개선 - ARIA 라벨 추가 (`aria-label` 속성)
- [x] 관광지 목록 기능 (MVP 2.1)
  - [x] `components/tour-card.tsx` 생성
    - [x] 썸네일 이미지 (기본 이미지 fallback)
    - [x] 관광지명
    - [x] 주소 표시
    - [x] 관광 타입 뱃지
    - [x] 간단한 개요 (1-2줄) - TourItem에 overview 필드 없음으로 제외
    - [x] 호버 효과 (scale, shadow)
    - [x] 클릭 시 상세페이지 이동
  - [x] `components/tour-list.tsx` 생성
    - [x] 그리드 레이아웃 (반응형)
    - [x] 카드 목록 표시
    - [x] 로딩 상태 (Skeleton UI)
    - [x] 빈 상태 처리
  - [x] API 연동
    - [x] `getAreaBasedList()` 호출
    - [x] 데이터 파싱 및 표시
    - [x] 에러 처리
  - ---
  - [x] Plan 모드 개발 내용:
    - [x] `TourCard` 컴포넌트 구현 - Next.js Image 컴포넌트 사용, 접근성 개선 (aria-label, focus-visible)
    - [x] `TourList` 컴포넌트 구현 - 반응형 그리드 (모바일 1열, 태블릿 2열, 데스크톱 3열), role="list" 접근성 추가
    - [x] `app/page.tsx` Server Component로 API 연동 - getAreaBasedList() 호출, 초기 12개 항목 조회
    - [x] 에러 처리 개선 - Error 컴포넌트 사용, 사용자 친화적인 메시지
    - [x] 이미지 에러 처리 개선 - 이미지 없을 때 SVG 플레이스홀더 표시
    - [x] 스타일링 및 UX 개선 - 호버 애니메이션, 카드 간격, 접근성 검증 (키보드 네비게이션, ARIA 라벨)
- [x] 필터 기능
  - [x] `components/tour-filters.tsx` 생성
    - [x] 지역 필터 (시/도 선택)
      - [x] `getAreaCode()` API로 지역 목록 로드
      - [x] Select 드롭다운 UI
      - [x] "전체" 옵션
    - [x] 관광 타입 필터
      - [x] 관광지(12), 문화시설(14), 축제/행사(15), 여행코스(25), 레포츠(28), 숙박(32), 쇼핑(38), 음식점(39)
      - [x] 단일 선택 (API 제약으로 인해 단일 선택으로 구현)
      - [x] "전체" 옵션
    - [x] 반려동물 동반 가능 필터 (MVP 2.5)
      - [x] 토글 버튼
      - [x] 크기별 필터 (소형, 중형, 대형)
    - [x] 정렬 옵션
      - [x] 최신순 (modifiedtime)
      - [x] 이름순 (가나다)
    - [x] 필터 상태 관리 (URL 쿼리 파라미터)
  - [x] 필터 적용 로직
    - [x] 필터 변경 시 API 재호출
    - [x] 필터 조합 처리
  - ---
  - [x] Plan 모드 개발 내용:
    - [x] `lib/types/filter.ts` 생성 - FilterState 인터페이스, SortOption 타입, SORT_OPTIONS 상수 정의
    - [x] shadcn/ui Select 컴포넌트 설치 - 지역 필터 및 정렬 옵션에 사용
    - [x] `TourFilters` 컴포넌트 구현 - 지역 필터(Select), 관광 타입 필터(버튼 그룹), 정렬 옵션(Select)
    - [x] URL 쿼리 파라미터 동기화 - useRouter, useSearchParams 훅 사용, 필터 변경 시 URL 업데이트
    - [x] `app/page.tsx` 수정 - searchParams async 처리, 필터 파라미터 추출, getAreaCode() 호출, 필터링된 관광지 조회
    - [x] 정렬 로직 구현 - TourList 컴포넌트에 sort prop 추가, useMemo로 최신순/이름순 클라이언트 사이드 정렬
    - [x] 필터 조합 처리 - 지역+타입 필터 동시 적용, URL 쿼리 파라미터로 상태 관리
    - [x] 스타일링 및 UX 개선 - 필터 영역 카드 스타일, 반응형 레이아웃(모바일 세로, 데스크톱 가로), 선택된 필터 뱃지 표시
    - [x] 접근성 개선 - ARIA 라벨, role="group", aria-pressed 속성 추가, 필터 초기화 버튼
  - ---
  - [x] 추가 개발 사항:
    - [x] `lib/types/filter.ts` 반려동물 필터 타입 추가 - PetSizeOption 타입, FilterState에 petFriendly, petSize 필드 추가, PET_SIZE_OPTIONS 상수 정의
    - [x] `components/tour-filters.tsx` 반려동물 필터 UI 추가 - Switch 컴포넌트로 토글 버튼 구현, 반려동물 크기 필터 버튼 그룹 추가, URL 쿼리 파라미터 동기화 (petFriendly, petSize)
    - [x] `lib/utils/pet-filter.ts` 생성 - 배치 반려동물 정보 조회 함수 (batchGetPetTourInfo), 반려동물 필터링 유틸리티 함수 (isPetFriendly, matchesPetSize, filterPetFriendlyTours)
    - [x] `app/page.tsx` 반려동물 필터 로직 추가 - petFriendly 파라미터 확인, 배치로 반려동물 정보 조회, 필터링 적용, petInfoMap을 TourMapView에 전달
    - [x] `components/tour-map-view.tsx` 반려동물 정보 전달 - petInfoMap prop 추가, TourList에 petInfoMap 전달
    - [x] `components/tour-list.tsx` 반려동물 정보 전달 - petInfoMap prop 추가, TourCard에 petInfo 전달
    - [x] `components/tour-card.tsx` 반려동물 아이콘 표시 - petInfo prop 추가, 반려동물 동반 가능 뱃지 표시 (🐾 아이콘, 크기 정보 포함)
- [x] 검색 기능 (MVP 2.3)
  - [x] `components/tour-search.tsx` 생성
    - [x] 검색창 UI (헤더 또는 메인 영역)
    - [x] 검색 아이콘
    - [x] 엔터 또는 버튼 클릭으로 검색
    - [x] 검색어 초기화 버튼 (X 버튼)
  - [x] 검색 API 연동
    - [x] `searchKeyword()` 호출
    - [x] 검색 결과 표시
    - [x] 검색 결과 개수 표시
    - [x] 결과 없음 메시지 (검색 모드별로 다른 메시지)
  - [x] 검색 + 필터 조합
    - [x] 키워드 + 지역 필터
    - [x] 키워드 + 타입 필터
    - [x] 모든 필터 동시 적용
  - ---
  - [x] Plan 모드 개발 내용:
    - [x] `TourSearch` 컴포넌트 구현 - 검색창 UI, 검색 아이콘, 엔터/버튼 클릭 검색, URL 쿼리 파라미터 동기화, 검색어 초기화 버튼
    - [x] `components/Navbar.tsx` 수정 - 기존 disabled 검색창을 TourSearch 컴포넌트로 교체
    - [x] `app/page.tsx` 수정 - keyword 파라미터 처리, 조건부 API 호출 (keyword 있으면 searchKeyword, 없으면 getAreaBasedList), 검색 + 필터 조합 지원
    - [x] `components/tour-list.tsx` 수정 - 검색 결과 개수 표시, 검색 모드 표시, 검색 모드별 빈 상태 메시지 개선
    - [x] 검색 + 필터 조합 처리 - searchKeyword() API가 필터 파라미터를 지원하므로 자연스럽게 조합 가능, URL 쿼리 파라미터로 상태 관리
    - [x] 검색 UX 개선 - 검색어 초기화 버튼 (X), 검색 모드별 빈 상태 메시지, 검색 결과 개수 표시
    - [x] 스타일링 및 접근성 개선 - role="search", aria-label, focus-visible 스타일, 키보드 네비게이션 지원
- [x] 네이버 지도 연동 (MVP 2.2)
  - [x] `components/naver-map.tsx` 생성
    - [x] Naver Maps API v3 초기화
    - [x] 지도 컨테이너 설정
    - [x] 초기 중심 좌표 설정
    - [x] 줌 레벨 설정
  - [x] 마커 표시
    - [x] 관광지 목록을 마커로 표시
    - [x] 좌표 변환 (KATEC → WGS84: mapx/mapy / 10000000)
    - [x] 마커 클릭 시 인포윈도우
      - [x] 관광지명
      - [x] 간단한 설명
      - [x] "상세보기" 버튼
    - [x] 관광 타입별 마커 색상 구분 (선택 사항)
  - [x] 지도-리스트 연동
    - [x] 리스트 항목 클릭 → 지도 이동 및 마커 강조
    - [x] 리스트 항목 호버 → 마커 강조 (선택 사항)
    - [x] 마커 클릭 → 리스트 항목 강조
  - [x] 지도 컨트롤
    - [x] 줌 인/아웃 버튼
    - [x] 지도 유형 선택 (일반/스카이뷰)
    - [x] 현재 위치 버튼 (선택 사항)
  - [x] 반응형 레이아웃
    - [x] 데스크톱: 리스트(좌측 50%) + 지도(우측 50%) 분할
    - [x] 모바일: 탭 형태로 리스트/지도 전환
  - ---
  - [x] 추가 개발 사항:
    - [x] `app/layout.tsx`에 네이버 지도 API 스크립트 로드 추가 (Next.js Script 컴포넌트 사용)
    - [x] `lib/utils/coordinate.ts` 생성 - KATEC 좌표를 WGS84로 변환하는 유틸리티 함수 구현
    - [x] `components/tour-map-view.tsx` 생성 - 리스트와 지도를 통합하는 래퍼 컴포넌트 (선택된 관광지 상태 관리)
    - [x] `components/tour-list.tsx` 수정 - 선택된 관광지 상태 연동 (selectedTourId, onTourSelect props 추가)
    - [x] `components/tour-card.tsx` 수정 - 클릭 시 선택 상태 업데이트 (isSelected, onSelect props 추가)
    - [x] `app/page.tsx` 수정 - TourList를 TourMapView로 교체하여 지도 영역 통합
    - [x] shadcn/ui Tabs 컴포넌트 설치 - 모바일 탭 전환 UI용
  - ---
  - [x] 추가 개발 사항:
    - [x] `components/naver-map.tsx` 관광 타입별 마커 색상 구분 구현 - 타입별 색상 매핑 상수 추가 (MARKER_COLOR_MAP), SVG 기반 커스텀 마커 아이콘 생성 함수 추가 (createMarkerIcon), 마커 생성 시 타입별 색상 적용
    - [x] `components/tour-card.tsx` 호버 이벤트 추가 - onHover prop 추가, onMouseEnter/onMouseLeave 이벤트 핸들러 구현
    - [x] `components/tour-list.tsx` 호버 상태 관리 추가 - hoveredTourId, onTourHover props 추가, TourCard에 onHover prop 전달
    - [x] `components/tour-map-view.tsx` 호버 상태 관리 추가 - hoveredTourId 상태 추가, handleTourHover 핸들러 구현, TourList와 NaverMap에 hoveredTourId prop 전달
    - [x] `components/naver-map.tsx` 호버된 마커 강조 로직 추가 - hoveredTourId prop 추가, hoverInfoWindowRef 추가, 호버 시 임시 인포윈도우 표시, cleanup 함수에 호버 인포윈도우 정리 추가
    - [x] `components/naver-map.tsx` 현재 위치 버튼 구현 - Navigation 아이콘 추가, handleCurrentLocation 함수 구현 (Geolocation API 사용), 위치 권한 및 에러 처리, 지도 컨트롤 영역에 버튼 추가
- [x] 페이지네이션
  - [x] 무한 스크롤 구현
    - [x] Intersection Observer 사용
    - [x] 하단 로딩 인디케이터
    - [x] 페이지당 20개 항목
  - [x] 또는 페이지 번호 선택 방식 (무한 스크롤로 구현 완료)
  - ---
  - [x] 추가 개발 사항:
    - [x] `app/api/tours/route.ts` 생성 - 클라이언트 사이드에서 사용할 API Route (getAreaBasedList, searchKeyword 래핑)
    - [x] `hooks/use-infinite-tours.ts` 생성 - Intersection Observer를 사용한 무한 스크롤 훅 구현
    - [x] `components/tour-list.tsx` 수정 - useInfiniteTours 훅 통합, Intersection Observer 타겟 추가, 하단 로딩 인디케이터 추가
    - [x] `components/tour-map-view.tsx` 수정 - 무한 스크롤 지원을 위한 props 전달 (필터, 검색어, areaCode, contentTypeId 추가)
    - [x] `app/page.tsx` 수정 - 초기 페이지 크기를 20개로 증가, TourMapView에 필터 정보 전달
    - [x] `components/naver-map.tsx` 수정 - 새 페이지 로드 시 기존 마커 유지하면서 새 마커 추가, 필터 변경 시 마커 초기화
    - [x] 필터/검색 변경 시 페이지네이션 자동 초기화 처리 (useInfiniteTours 훅에서 처리)
    - [x] 중복 요청 방지 (isLoadingRef 사용)
    - [x] 메모리 누수 방지 (Intersection Observer cleanup)
    - [x] 접근성 개선 (aria-live, aria-label, aria-busy 추가)
- [x] 최종 통합 및 스타일링
  - [x] 모든 기능 통합 테스트
  - [x] 반응형 디자인 확인 (모바일/태블릿/데스크톱)
  - [x] 로딩 상태 개선
  - [x] 에러 처리 개선
  - ---
  - [x] 추가 개발 사항:
    - [x] `lib/utils/coordinate.ts` 에러 처리 개선 - 좌표 값 검증, 유효성 검증, 한국 영역 검증 추가
    - [x] `components/naver-map.tsx` 에러 상태 관리 추가 - useState로 에러 상태 저장, API 로드 실패 감지 (최대 10초 대기)
    - [x] `components/naver-map.tsx` 좌표 변환 에러 처리 - try-catch로 좌표 변환 실패 시 기본 좌표 사용
    - [x] `components/naver-map.tsx` 마커 생성 에러 처리 - 일부 마커 생성 실패해도 나머지 마커는 계속 생성, 에러 로깅
    - [x] `components/naver-map.tsx` 로딩 상태 UI 개선 - 배경색 조정 (bg-background/80), backdrop-blur-sm 추가
    - [x] `components/naver-map.tsx` 에러 메시지 표시 - 사용자 친화적인 메시지, 새로고침 버튼 제공
    - [x] `components/naver-map.tsx` 인포윈도우 반응형 개선 - 모바일 250px, 데스크톱 300px, 폰트 크기 및 패딩 조정
    - [x] `components/naver-map.tsx` 지도 컨트롤 스타일 개선 - 버튼 크기 확대 (h-11 w-11), 호버 효과, backdrop-blur 적용
    - [x] `components/tour-map-view.tsx` 반응형 레이아웃 개선 - 최소 높이 보장 (모바일 400px, 데스크톱 600px)
    - [x] `components/tour-card.tsx` 선택된 관광지 강조 개선 - ring-offset-2 추가로 시각적 강조 향상
    - [x] `components/tour-list.tsx` 선택 상태 전환 애니메이션 - transition-all duration-200 추가

## Phase 3: 상세페이지 (`/places/[contentId]`)

- [x] 페이지 기본 구조
  - [x] `app/places/[contentId]/page.tsx` 생성
    - [x] 동적 라우팅 설정
    - [x] 뒤로가기 버튼 (헤더)
    - [x] 기본 레이아웃 구조
    - [x] 라우팅 테스트
  - ---
  - [x] Plan 모드 개발 내용:
    - [x] `app/places/[contentId]/page.tsx` 생성 - Next.js 15 동적 라우팅 설정, params Promise 처리
    - [x] 뒤로가기 버튼 구현 - Link 컴포넌트 사용 (Server Component), ArrowLeft 아이콘, 접근성 개선 (aria-label, focus-visible)
    - [x] 기본 레이아웃 구조 설정 - 헤더 영역(뒤로가기 버튼), 메인 컨텐츠 영역(placeholder), 반응형 컨테이너 (max-w-4xl, 모바일/데스크톱 패딩)
    - [x] contentId 유효성 검증 - 숫자만 허용하는 정규식 검증, 잘못된 ID 처리
    - [x] 라우팅 테스트 - TourCard의 `/places/${tour.contentid}` 링크와 연동 확인
- [x] 기본 정보 섹션 (MVP 2.4.1)
  - [x] `components/tour-detail/detail-info.tsx` 생성
    - [x] `getDetailCommon()` API 연동
    - [x] 관광지명 (대제목)
    - [x] 대표 이미지 (크게 표시)
    - [x] 주소 표시 및 복사 기능
      - [x] 클립보드 API 사용
      - [x] 복사 완료 토스트
    - [x] 전화번호 (클릭 시 전화 연결)
    - [x] 홈페이지 (링크)
    - [x] 개요 (긴 설명문)
    - [x] 관광 타입 및 카테고리 뱃지
    - [x] 정보 없는 항목 숨김 처리
  - ---
  - [x] Plan 모드 개발 내용:
    - [x] `components/tour-detail/detail-info.tsx` 컴포넌트 생성 - Client Component로 구현 (주소 복사 기능 포함), 관광지명(h1), 대표 이미지(Next.js Image, aspect-video), 주소 복사 버튼(sonner toast 알림), 전화번호(tel: 링크), 홈페이지(외부 링크), 개요(whitespace-pre-line), 관광 타입 뱃지(TOUR_TYPE_MAP 사용)
    - [x] `app/places/[contentId]/page.tsx` 수정 - getDetailCommon() API 호출 추가, DetailInfo 컴포넌트 통합, 에러 처리 개선(Error 컴포넌트 사용), contentId 유효성 검증 유지
    - [x] 이미지 에러 처리 개선 - useState로 imageError 상태 관리, 이미지 로드 실패 시 플레이스홀더 표시, 이미지 없을 때 플레이스홀더 표시
    - [x] 반응형 디자인 적용 - 모바일/태블릿/데스크톱 레이아웃(flex-col/flex-row), 카드 스타일(border, rounded-lg, padding), 간격 조정(space-y-4, space-y-6)
    - [x] 접근성 개선 - ARIA 라벨 추가(aria-label, aria-hidden), 키보드 네비게이션 지원(focus-visible:ring-2), 포커스 스타일 적용
- [x] 운영 정보 섹션 (MVP 2.4.2)
  - [x] `components/tour-detail/detail-intro.tsx` 생성
    - [x] `getDetailIntro()` API 연동
    - [x] 운영시간/개장시간
    - [x] 휴무일
    - [x] 이용요금
    - [x] 주차 가능 여부
    - [x] 문의처
    - [x] 체험 프로그램 (관광지)
    - [x] 반려동물 동반 가능 여부
    - [x] 정보 없는 항목 숨김 처리
  - ---
  - [x] Plan 모드 개발 내용:
    - [x] `components/tour-detail/detail-intro.tsx` 컴포넌트 생성 - TourIntro 타입 props, 타입별 필드 처리(관광지, 문화시설, 축제, 레포츠, 숙박, 음식점), 아이콘 사용(lucide-react), 카드 스타일 레이아웃, 그리드 레이아웃(모바일 1열/데스크톱 2열), 정보 없는 항목 숨김 처리
    - [x] `app/places/[contentId]/page.tsx` 수정 - getDetailIntro() API 호출 추가, DetailIntro 컴포넌트 통합, 에러 처리(운영 정보가 없어도 페이지 정상 표시), 섹션 간 간격 조정(space-y-8)
    - [x] 타입별 필드 매핑 로직 구현 - contentTypeId에 따라 표시할 필드 결정, 공통 필드와 타입별 필드 그룹핑, 행사기간(시작일~종료일) 포맷팅
    - [x] UI/UX 개선 - 아이콘+라벨+값 형태, 그리드 레이아웃, 행사홈페이지 링크 처리, 빈 상태 처리(운영 정보가 전혀 없으면 섹션 숨김)
    - [x] 접근성 개선 - ARIA 라벨 추가, 키보드 네비게이션 지원, 스크린 리더 대응
- [x] 이미지 갤러리 (MVP 2.4.3)
  - [x] `components/tour-detail/detail-gallery.tsx` 생성
    - [x] `getDetailImage()` API 연동
    - [x] 대표 이미지 + 서브 이미지들
    - [x] 이미지 슬라이드 기능 (Swiper 또는 캐러셀)
    - [x] 이미지 클릭 시 전체화면 모달
    - [x] 이미지 없으면 기본 이미지
    - [x] Next.js Image 컴포넌트 사용 (최적화)
  - ---
  - [x] Plan 모드 개발 내용:
    - [x] Swiper 라이브러리 설치 및 설정 - `pnpm add swiper` 실행, Navigation/Pagination/Keyboard 모듈 사용
    - [x] `components/tour-detail/detail-gallery.tsx` 컴포넌트 생성 - Client Component로 구현, TourImage[] 타입 props, 이미지 로딩/에러 상태 관리
    - [x] Swiper 슬라이드 기능 구현 - 메인 갤러리 Swiper, 썸네일 그리드 (최대 8개 표시), 커스텀 네비게이션 버튼
    - [x] 전체화면 모달 구현 - shadcn/ui Dialog 컴포넌트 사용, 모달 내 Swiper 슬라이드, 이미지 인덱스 표시
    - [x] 키보드 네비게이션 지원 - ESC로 모달 닫기, 화살표 키로 이미지 이동, Enter/Space로 이미지 클릭
    - [x] `app/places/[contentId]/page.tsx` 수정 - getDetailImage() API 호출 추가, DetailGallery 컴포넌트 통합, 에러 처리 (이미지 없어도 페이지 정상 표시)
    - [x] 반응형 디자인 적용 - 모바일/태블릿/데스크톱 레이아웃, 썸네일 그리드 반응형 (모바일 4열, 태블릿 6열, 데스크톱 8열)
    - [x] 접근성 개선 - ARIA 라벨 추가 (aria-label, aria-hidden), 키보드 네비게이션 지원, 스크린 리더 대응
    - [x] 모달 열릴 때 body 스크롤 막기 - useEffect로 모달 상태에 따라 body overflow 제어
    - [x] 이미지 인덱스 동기화 - 모달 내 Swiper의 slideChange 이벤트로 selectedIndex 업데이트
- [x] 지도 섹션 (MVP 2.4.4)
  - [x] `components/tour-detail/detail-map.tsx` 생성
    - [x] 해당 관광지 위치 표시
    - [x] 마커 1개 표시
    - [x] "길찾기" 버튼
      - [x] 네이버 지도 앱/웹 연동
      - [x] URL: `https://map.naver.com/v5/directions/{좌표}`
    - [x] 좌표 정보 표시 (선택 사항)
  - [x] `app/places/[contentId]/page.tsx` 수정
    - [x] DetailMap 컴포넌트 import 및 통합
    - [x] 좌표 유효성 검증 (mapx, mapy 확인)
    - [x] 섹션 배치 (DetailInfo → DetailGallery → DetailMap → DetailIntro)
- [x] 공유 기능 (MVP 2.4.5)
  - [x] `components/tour-detail/share-button.tsx` 생성
    - [x] URL 복사 기능
      - [x] `navigator.clipboard.writeText()` 사용
      - [x] HTTPS 환경 확인
    - [x] 복사 완료 토스트 메시지
    - [x] 공유 아이콘 버튼 (Share/Link 아이콘)
  - [x] Open Graph 메타태그
    - [x] `app/places/[contentId]/page.tsx`에 Metadata 생성
    - [x] `og:title` - 관광지명
    - [x] `og:description` - 관광지 설명 (100자 이내)
    - [x] `og:image` - 대표 이미지 (1200x630 권장)
    - [x] `og:url` - 상세페이지 URL
    - [x] `og:type` - "website"
  - ---
  - [x] Plan 모드 개발 내용:
    - [x] `components/tour-detail/share-button.tsx` 컴포넌트 생성 - Client Component로 구현, usePathname 훅으로 현재 경로 가져오기, navigator.clipboard.writeText() 사용, 클립보드 API 미지원 시 대체 방법 구현 (document.execCommand), 복사 상태 관리 (useState), toast 알림 (sonner), Share2/Check 아이콘 사용
    - [x] `app/places/[contentId]/page.tsx`에 generateMetadata 함수 추가 - Next.js Metadata API 사용, getDetailCommon() API 호출하여 관광지 정보 조회, Open Graph 메타태그 동적 생성 (og:title, og:description, og:image, og:url, og:type), Twitter Card 메타태그 추가, description 100자 제한 및 HTML 태그 제거, 이미지 URL 절대 경로 변환, 에러 처리 (메타태그 생성 실패 시 기본값 반환)
    - [x] `app/places/[contentId]/page.tsx`에 ShareButton 통합 - 헤더 영역에 공유 버튼 추가 (뒤로가기 버튼 옆), flex 레이아웃으로 배치, ShareButton 컴포넌트 import
- [x] 북마크 기능 (MVP 2.4.5)
  - [x] `components/bookmarks/bookmark-button.tsx` 생성
    - [x] 별 아이콘 (채워짐/비어있음)
    - [x] 북마크 상태 확인 (Supabase 조회)
    - [x] 북마크 추가/제거 기능
    - [x] 인증된 사용자 확인 (Clerk)
    - [x] 로그인하지 않은 경우: 로그인 유도
  - [x] Supabase 연동
    - [x] `lib/api/supabase-api.ts` 생성
      - [x] `getBookmark()` - 북마크 조회
      - [x] `addBookmark()` - 북마크 추가
      - [x] `removeBookmark()` - 북마크 제거
      - [x] `getUserBookmarks()` - 사용자 북마크 목록
    - [x] `bookmarks` 테이블 사용 (db.sql 참고)
      - [x] `user_id` (users 테이블 참조)
      - [x] `content_id` (한국관광공사 API contentid)
      - [x] UNIQUE 제약 (user_id, content_id)
  - [x] 상세페이지에 북마크 버튼 추가
  - ---
  - [x] 추가 개발 사항:
    - [x] `lib/api/supabase-api.ts`에 `getSupabaseUserId()` 헬퍼 함수 추가 - Clerk userId를 Supabase user_id(UUID)로 변환하는 로직 구현
    - [x] `components/bookmarks/bookmark-button.tsx` 로딩 상태 개선 - 초기 북마크 상태 확인 중 스피너 표시, 북마크 처리 중 로딩 상태 표시
    - [x] `components/bookmarks/bookmark-button.tsx` 에러 처리 개선 - 사용자 동기화 관련 에러 메시지 개선, 네트워크 에러 처리
    - [x] `components/bookmarks/bookmark-button.tsx` 접근성 개선 - ARIA 라벨 추가 (aria-label, aria-pressed, aria-busy), 스크린 리더 대응 (sr-only 클래스)
    - [x] `app/places/[contentId]/page.tsx` 북마크 버튼 통합 - 헤더 영역에 북마크 버튼 추가 (ShareButton 옆에 배치), 액션 버튼 그룹으로 레이아웃 개선
- [x] 반려동물 정보 섹션 (MVP 2.5)
  - [x] `components/tour-detail/detail-pet-tour.tsx` 생성
    - [x] `getDetailPetTour()` API 연동
    - [x] 반려동물 동반 가능 여부 표시
    - [x] 반려동물 크기 제한 정보
    - [x] 반려동물 입장 가능 장소 (실내/실외)
    - [x] 반려동물 동반 추가 요금
    - [x] 반려동물 전용 시설 정보
    - [x] 아이콘 및 뱃지 디자인 (🐾)
    - [x] 주의사항 강조 표시
  - ---
  - [x] 추가 개발 사항:
    - [x] `components/tour-detail/detail-pet-tour.tsx` 컴포넌트 구현 - Client Component로 구현, PetTourInfo 타입 props, 반려동물 동반 가능 여부(chkpetleash === "Y") 확인, 크기 제한 뱃지(PetSizeBadge), 입장 가능 장소 아이콘(PetPlaceIcon), 추가 요금 표시, 주의사항 강조 박스(petinfo), 반응형 그리드 레이아웃(모바일 1열/데스크톱 2열), 정보 없는 항목 숨김 처리
    - [x] `app/places/[contentId]/page.tsx` 반려동물 정보 API 호출 추가 - getDetailPetTour() API 호출, 에러 처리(정보 없어도 페이지 정상 표시), DetailPetTour 컴포넌트 통합, 섹션 배치 순서 조정(DetailInfo → DetailGallery → DetailMap → DetailPetTour → DetailIntro)
- [x] 추천 관광지 섹션 (선택 사항)
  - [x] 같은 지역 또는 타입의 다른 관광지 추천
  - [x] 카드 형태로 표시
  - ---
  - [x] 추가 개발 사항:
    - [x] `components/tour-detail/detail-recommendations.tsx` 컴포넌트 생성 - Server Component로 구현, 같은 지역(areacode) + 같은 타입(contenttypeid)의 관광지 조회, 현재 관광지 제외, 최대 6개 표시, TourCard 컴포넌트 재사용, 반응형 그리드 레이아웃 (모바일 1열, 태블릿 2열, 데스크톱 3열), 섹션 제목 "이런 관광지는 어떠세요?", 접근성 개선 (ARIA 라벨, role="region")
    - [x] `lib/types/tour.ts` TourDetail 타입에 areacode 필드 추가 - detailCommon2 API 응답에 포함될 수 있는 지역 코드 필드 추가 (optional)
    - [x] `app/places/[contentId]/page.tsx` 추천 관광지 섹션 통합 - DetailRecommendations 컴포넌트 import 및 통합, 섹션 배치 (DetailIntro 다음), 지역 코드가 있는 경우에만 표시, 에러 처리 (추천 관광지 조회 실패 시에도 페이지 정상 표시)
- [x] 최종 통합 및 스타일링
  - [x] 모든 섹션 통합
  - [x] 반응형 디자인 확인
  - [x] 모바일 최적화
  - [x] 접근성 확인 (ARIA 라벨, 키보드 네비게이션)
  - ---
  - [x] 추가 개발 사항:
    - [x] `app/places/[contentId]/page.tsx` 페이지 레벨 통합 개선 - 섹션 간 간격 일관성 조정 (space-y-8 md:space-y-10), 헤더 영역 모바일 최적화 (뒤로가기 버튼 크기 조정, 최소 터치 영역 44px), 컨테이너 패딩 개선 (lg:px-8 lg:py-10), 모든 섹션에 role="region" 및 aria-labelledby 추가, main 태그에 role="main" 및 aria-label 추가
    - [x] `components/tour-detail/detail-info.tsx` 반응형 및 접근성 개선 - 섹션 제목에 id="detail-info-heading" 추가, 카드 패딩 반응형 조정 (p-4 sm:p-6), 버튼 최소 터치 영역 44px 추가, 링크 요소 최소 터치 영역 44px 추가
    - [x] `components/tour-detail/detail-gallery.tsx` 모바일 최적화 - 섹션 제목에 id="detail-gallery-heading" 추가, 썸네일 그리드 모바일에서 4열 → 3열로 조정 (grid-cols-3 sm:grid-cols-4), Swiper 네비게이션 버튼 최소 터치 영역 44px 추가, 모달 닫기 버튼 및 네비게이션 버튼 모바일 최적화
    - [x] `components/tour-detail/detail-map.tsx` 모바일 최적화 - 섹션 제목에 id="detail-map-heading" 추가, 지도 높이 모바일에서 400px → 300px로 조정 (h-[300px] sm:h-[400px]), 길찾기 버튼 및 좌표 토글 버튼 최소 터치 영역 44px 추가
    - [x] `components/tour-detail/detail-intro.tsx` 스타일링 일관성 개선 - 섹션 제목에 id="detail-intro-heading" 추가, 섹션 제목 크기 통일 (text-2xl), 카드 패딩 반응형 조정 (p-4 sm:p-6), 링크 요소 최소 터치 영역 44px 추가
    - [x] `components/tour-detail/detail-pet-tour.tsx` 스타일링 일관성 개선 - 섹션 제목에 id="detail-pet-tour-heading" 추가, 섹션 제목 크기 통일 (text-2xl), 카드 패딩 반응형 조정 (p-4 sm:p-6)
    - [x] `components/tour-detail/share-button.tsx` 모바일 최적화 - 버튼 최소 터치 영역 44px 추가 (min-h-[44px] sm:min-h-[36px])
    - [x] `components/bookmarks/bookmark-button.tsx` 모바일 최적화 - 버튼 최소 터치 영역 44px 추가 (min-h-[44px] sm:min-h-[36px])

## Phase 4: 통계 대시보드 페이지 (`/stats`)

- [ ] 페이지 기본 구조
  - [ ] `app/stats/page.tsx` 생성
    - [ ] 기본 레이아웃 구조
    - [ ] 반응형 레이아웃 설정 (모바일 우선)
    - [ ] Server Component로 구현
- [ ] 통계 데이터 수집
  - [ ] `lib/api/stats-api.ts` 생성
    - [ ] `getRegionStats()` - 지역별 관광지 개수 집계
      - [ ] `areaBasedList2` API로 각 지역별 totalCount 조회
      - [ ] 지역 코드별로 API 호출
    - [ ] `getTypeStats()` - 타입별 관광지 개수 집계
      - [ ] `areaBasedList2` API로 각 타입별 totalCount 조회
      - [ ] contentTypeId별로 API 호출
    - [ ] `getStatsSummary()` - 전체 통계 요약
      - [ ] 전체 관광지 수
      - [ ] Top 3 지역
      - [ ] Top 3 타입
      - [ ] 마지막 업데이트 시간
    - [ ] 병렬 API 호출로 성능 최적화
    - [ ] 에러 처리 및 재시도 로직
    - [ ] 데이터 캐싱 (revalidate: 3600)
- [ ] 통계 요약 카드
  - [ ] `components/stats/stats-summary.tsx` 생성
    - [ ] 전체 관광지 수 표시
    - [ ] Top 3 지역 표시 (카드 형태)
    - [ ] Top 3 타입 표시 (카드 형태)
    - [ ] 마지막 업데이트 시간 표시
    - [ ] 로딩 상태 (Skeleton UI)
    - [ ] 카드 레이아웃 디자인
- [ ] 지역별 분포 차트 (Bar Chart)
  - [ ] `components/stats/region-chart.tsx` 생성
    - [ ] shadcn/ui Chart 컴포넌트 설치 (Bar)
    - [ ] recharts 기반 Bar Chart 구현
    - [ ] X축: 지역명 (서울, 부산, 제주 등)
    - [ ] Y축: 관광지 개수
    - [ ] 상위 10개 지역 표시 (또는 전체)
    - [ ] 바 클릭 시 해당 지역 목록 페이지로 이동
    - [ ] 호버 시 정확한 개수 표시
    - [ ] 다크/라이트 모드 지원
    - [ ] 반응형 디자인
    - [ ] 로딩 상태
    - [ ] 접근성 (ARIA 라벨, 키보드 네비게이션)
- [ ] 타입별 분포 차트 (Donut Chart)
  - [ ] `components/stats/type-chart.tsx` 생성
    - [ ] shadcn/ui Chart 컴포넌트 설치 (Pie/Donut)
    - [ ] recharts 기반 Donut Chart 구현
    - [ ] 타입별 비율 (백분율)
    - [ ] 타입별 개수 표시
    - [ ] 섹션 클릭 시 해당 타입 목록 페이지로 이동
    - [ ] 호버 시 타입명, 개수, 비율 표시
    - [ ] 다크/라이트 모드 지원
    - [ ] 반응형 디자인
    - [ ] 로딩 상태
    - [ ] 접근성 (ARIA 라벨)
- [ ] 페이지 통합
  - [ ] `app/stats/page.tsx`에 모든 컴포넌트 통합
    - [ ] 통계 요약 카드 (상단)
    - [ ] 지역별 분포 차트 (중단)
    - [ ] 타입별 분포 차트 (하단)
  - [ ] 에러 처리 (에러 메시지 + 재시도 버튼)
  - [ ] 네비게이션에 통계 페이지 링크 추가
  - [ ] 최종 페이지 확인

## Phase 5: 북마크 페이지 (`/bookmarks`) - 선택 사항

- [ ] Supabase 설정 확인
  - [ ] `bookmarks` 테이블 확인 (db.sql 참고)
    - [ ] `users` 테이블과의 관계 확인
    - [ ] 인덱스 확인 (user_id, content_id, created_at)
    - [ ] RLS 비활성화 확인 (개발 환경)
- [ ] 북마크 목록 페이지
  - [ ] `app/bookmarks/page.tsx` 생성
    - [ ] 인증된 사용자만 접근 가능
    - [ ] 로그인하지 않은 경우 로그인 유도
  - [ ] `components/bookmarks/bookmark-list.tsx` 생성
    - [ ] 사용자 북마크 목록 조회 (`getUserBookmarks()`)
    - [ ] 카드 레이아웃 (홈페이지와 동일한 tour-card 사용)
    - [ ] 빈 상태 처리 (북마크 없을 때)
    - [ ] 로딩 상태 (Skeleton UI)
- [ ] 북마크 관리 기능
  - [ ] 정렬 옵션
    - [ ] 최신순 (created_at DESC)
    - [ ] 이름순 (가나다순)
    - [ ] 지역별
  - [ ] 일괄 삭제 기능
    - [ ] 체크박스 선택
    - [ ] 선택 항목 삭제
    - [ ] 확인 다이얼로그
  - [ ] 개별 삭제 기능
    - [ ] 각 카드에 삭제 버튼
- [ ] 페이지 통합 및 스타일링
  - [ ] 반응형 디자인 확인
  - [ ] 최종 페이지 확인

## Phase 6: 최적화 & 배포

- [ ] 이미지 최적화
  - [ ] `next.config.ts` 외부 도메인 설정
    - [ ] 한국관광공사 이미지 도메인 추가
    - [ ] 네이버 지도 이미지 도메인 추가
  - [ ] Next.js Image 컴포넌트 사용 확인
    - [ ] priority 속성 (above-the-fold)
    - [ ] lazy loading (below-the-fold)
    - [ ] responsive sizes 설정
- [ ] 전역 에러 핸들링
  - [ ] `app/error.tsx` 생성
  - [ ] `app/global-error.tsx` 생성
  - [ ] API 에러 처리 개선
- [ ] 404 페이지
  - [ ] `app/not-found.tsx` 생성
    - [ ] 사용자 친화적인 메시지
    - [ ] 홈으로 돌아가기 버튼
- [ ] SEO 최적화
  - [ ] 메타태그 설정 (`app/layout.tsx`)
    - [ ] 기본 title, description
    - [ ] Open Graph 태그
    - [ ] Twitter Card 태그
  - [ ] `app/sitemap.ts` 생성
    - [ ] 동적 sitemap 생성 (관광지 상세페이지 포함)
  - [ ] `app/robots.ts` 생성
- [ ] 성능 최적화
  - [ ] Lighthouse 점수 측정 (목표: > 80)
  - [ ] 코드 분할 확인
  - [ ] 불필요한 번들 제거
  - [ ] API 응답 캐싱 전략 확인
- [ ] 환경변수 보안 검증
  - [ ] 모든 필수 환경변수 확인
  - [ ] `.env.example` 업데이트
  - [ ] 프로덕션 환경변수 설정 가이드 작성
- [ ] 배포 준비
  - [ ] Vercel 배포 설정
  - [ ] 환경변수 설정 (Vercel 대시보드)
  - [ ] 빌드 테스트 (`pnpm build`)
  - [ ] 프로덕션 배포 및 테스트

## 추가 작업 (선택 사항)

- [ ] 다크 모드 지원
  - [ ] 테마 전환 기능
  - [ ] 모든 컴포넌트 다크 모드 스타일 적용
- [ ] PWA 지원
  - [ ] `app/manifest.ts` 생성
  - [ ] Service Worker 설정
  - [ ] 오프라인 지원
- [ ] 접근성 개선
  - [ ] ARIA 라벨 추가
  - [ ] 키보드 네비게이션 개선
  - [ ] 색상 대비 확인 (WCAG AA)
- [ ] 성능 모니터링
  - [ ] Web Vitals 측정
  - [ ] 에러 로깅 (Sentry 등)
- [ ] 사용자 피드백
  - [ ] 피드백 수집 기능
  - [ ] 버그 리포트 기능
