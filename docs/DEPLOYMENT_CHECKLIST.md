# 배포 전 체크리스트

이 문서는 My Trip 프로젝트를 Vercel에 배포하기 전에 확인해야 할 사항을 정리한 체크리스트입니다.

## 배포 전 필수 확인 사항

### 1. 코드 준비

- [ ] 모든 변경사항이 Git에 커밋되어 있음
- [ ] `main` 브랜치가 최신 상태임
- [ ] 불필요한 파일이 `.gitignore`에 포함되어 있음
- [ ] `.env` 파일이 Git에 커밋되지 않았는지 확인

### 2. 환경변수 설정

#### 로컬 환경변수 확인

- [ ] `.env` 파일이 프로젝트 루트에 있음
- [ ] `pnpm verify-env` 스크립트 실행하여 모든 필수 환경변수 확인
- [ ] 환경변수 값이 올바른지 확인

#### Vercel 환경변수 설정

- [ ] Vercel 대시보드에서 프로젝트 생성 완료
- [ ] 모든 필수 환경변수가 Vercel에 설정되어 있음:
  - [ ] `NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY`
  - [ ] `CLERK_SECRET_KEY`
  - [ ] `NEXT_PUBLIC_SUPABASE_URL`
  - [ ] `NEXT_PUBLIC_SUPABASE_ANON_KEY`
  - [ ] `SUPABASE_SERVICE_ROLE_KEY`
  - [ ] `TOUR_API_KEY` 또는 `NEXT_PUBLIC_TOUR_API_KEY`
  - [ ] `NEXT_PUBLIC_NAVER_MAP_CLIENT_ID`
- [ ] 환경변수가 올바른 환경에 설정되어 있음 (Production, Preview, Development)

### 3. 빌드 테스트

- [x] 로컬에서 `pnpm install` 실행 성공 - 완료
- [x] 로컬에서 `pnpm build` 실행 성공 - 완료
- [x] 빌드 에러 없음 - 완료 (경고만 있음)
- [x] 빌드 경고 확인 및 수정 (필요한 경우) - 경고 확인됨 (치명적이지 않음)
- [ ] 번들 크기 확인 (`pnpm analyze`) - 선택 사항

### 4. 기능 테스트 (로컬)

#### 홈페이지 (`/`)

- [ ] 페이지 로딩 확인
- [ ] 관광지 목록 표시 확인
- [ ] 필터 기능 테스트 (지역, 타입, 반려동물)
- [ ] 검색 기능 테스트
- [ ] 지도 표시 확인
- [ ] 무한 스크롤 동작 확인

#### 상세페이지 (`/places/[contentId]`)

- [ ] 관광지 상세 정보 표시 확인
- [ ] 이미지 갤러리 동작 확인
- [ ] 지도 표시 확인
- [ ] 공유 기능 테스트
- [ ] 북마크 기능 테스트 (로그인 필요)

#### 통계 페이지 (`/stats`)

- [ ] 통계 요약 카드 표시 확인
- [ ] 지역별 분포 차트 표시 확인
- [ ] 타입별 분포 차트 표시 확인

#### 북마크 페이지 (`/bookmarks`)

- [ ] 로그인 후 접근 확인
- [ ] 북마크 목록 표시 확인
- [ ] 북마크 삭제 기능 테스트

#### 인증 기능

- [ ] 로그인 기능 테스트
- [ ] 로그아웃 기능 테스트
- [ ] 회원가입 기능 테스트 (선택적)

### 5. 성능 확인

- [ ] Lighthouse 점수 측정 (목표: Performance > 80)
- [ ] 페이지 로딩 속도 확인 (< 3초)
- [ ] 이미지 최적화 확인
- [ ] 번들 크기 확인

### 6. 에러 확인

- [ ] 브라우저 콘솔 에러 없음 - 배포 후 확인 필요
- [x] TypeScript 에러 없음 - 빌드 성공으로 확인됨
- [x] ESLint 경고 확인 및 수정 (필요한 경우) - 경고만 있음 (치명적이지 않음)
- [ ] API 호출 에러 없음 - 배포 후 확인 필요

### 7. 보안 확인

- [x] 환경변수 값이 코드에 하드코딩되지 않았는지 확인 - 확인됨
- [x] `.env` 파일이 `.gitignore`에 포함되어 있는지 확인 - 확인됨
- [x] 시크릿 키가 공개되지 않았는지 확인 - 확인됨
- [x] React2Shell 보안 점검 완료 - Next.js 15.5.7 (패치된 버전) 사용 중
- [ ] API 키가 올바르게 설정되어 있는지 확인 - Vercel 대시보드에서 확인 필요

### 8. 문서 확인

- [ ] `README.md` 최신 상태 확인
- [ ] `docs/ENV_SETUP.md` 최신 상태 확인
- [ ] `docs/DEPLOYMENT.md` 최신 상태 확인
- [ ] `docs/PRD.md` 최신 상태 확인

## 배포 실행

### 1. 배포 방법 선택

- [ ] 자동 배포 (Git push) - 권장
- [x] 수동 배포 (Vercel CLI) - 완료

### 2. 배포 실행

- [x] Git 저장소에 푸시 또는 Vercel 대시보드에서 배포 실행 - Vercel CLI로 배포 완료
- [x] 배포 로그 확인 - 빌드 성공 확인됨
- [x] 배포 성공 확인 - 배포 URL 생성됨: https://1210-proj-4yqbpbmt8-ei69996-4596s-projects.vercel.app

## 배포 후 확인

### 1. 기본 확인

- [x] 배포된 사이트 URL 접속 확인 - 배포 완료: https://1210-proj-4yqbpbmt8-ei69996-4596s-projects.vercel.app
- [ ] 페이지 로딩 확인 - 배포 후 실제 접속하여 확인 필요
- [ ] 브라우저 콘솔 에러 확인 - 배포 후 실제 접속하여 확인 필요

### 2. 기능 테스트

- [ ] 홈페이지 기능 테스트
- [ ] 상세페이지 기능 테스트
- [ ] 통계 페이지 기능 테스트
- [ ] 북마크 페이지 기능 테스트
- [ ] 인증 기능 테스트

### 3. 성능 확인

- [ ] Lighthouse 점수 측정
- [ ] 페이지 로딩 속도 확인
- [ ] 이미지 로딩 확인

### 4. 에러 모니터링

- [ ] 브라우저 콘솔 에러 확인
- [ ] Vercel 로그 확인
- [ ] API 에러 확인

### 5. 환경변수 확인

- [ ] 환경변수가 올바르게 적용되었는지 확인
- [ ] 환경변수 관련 에러 없음

## 문제 발생 시

배포 중 또는 배포 후 문제가 발생하면:

1. [배포 가이드](DEPLOYMENT.md)의 [문제 해결](#문제-해결) 섹션 참고
2. Vercel 대시보드의 빌드 로그 확인
3. 브라우저 콘솔 에러 확인
4. 각 서비스의 공식 문서 참고

---

## 체크리스트 사용 방법

1. 배포 전에 이 체크리스트를 확인하세요
2. 각 항목을 체크하면서 확인하세요
3. 모든 항목이 체크되면 배포를 진행하세요
4. 배포 후에도 체크리스트를 확인하여 문제가 없는지 확인하세요

---

## 참고 자료

- [배포 가이드](DEPLOYMENT.md)
- [환경변수 설정 가이드](ENV_SETUP.md)
- [프로젝트 요구사항](PRD.md)

